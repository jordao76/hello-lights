//////////////////////////////////////////////////////////////////////////////
// Utility functions
//////////////////////////////////////////////////////////////////////////////

function intersperse(sep, arr) {
  let res = [];
  let len = arr.length;
  if (len === 0) return res;
  let idx = 0;
  for (; idx < len - 1; ++idx) res.push(arr[idx], sep);
  res.push(arr[idx]);
  return res;
}

const flatten = arr =>
  arr.reduce((acc, val) => acc.concat(val), []);

//////////////////////////////////////////////////////////////////////////////

const isOn = state =>
  (state === 'off' || state === 'false') ? false : !!state;

const turnLight = (oLight, state) =>
  oLight[isOn(state) ? 'turnOn' : 'turnOff']();

//////////////////////////////////////////////////////////////////////////////

module.exports = {
  intersperse,
  flatten,
  isOn,
  turnLight
};

//////////////////////////////////////////////////////////////////////////////
