<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: commands/code-formatter.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: commands/code-formatter.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const parser = require('./formatter-peg-parser');

/////////////////////////////////////////////////////////////////////////////

/**
 * A formatter for command code.
 * Inherit from this class and override the desired methods to adjust the formatting.
 * @memberof commands
 */
class CodeFormatter {

  /**
   * Formats command code.
   * @param {string} code - Command code to format.
   * @returns {string} The formatted command code.
   */
  format(code) {
    try {
      let nodes = parser.parse(code);
      return this._process(nodes).join('');
    } catch (e) {
      return code;
    }
  }

  _process(nodes) {
    const capitalize = str => str.charAt(0).toUpperCase() + str.slice(1);
    return nodes.map(node => this[`format${capitalize(node.type)}`](node.text));
  }

  /**
   * Formats parenthesis.
   * @param {string} text - Opening or closing parenthesis.
   * @returns {string} Formatted parenthesis.
   */
  formatParens(text) { return text; }

  /**
   * Formats a command name.
   * @param {string} text - Command name.
   * @returns {string} Formatted command name.
   */
  formatCommand(text) { return text; }

  /**
   * Formats a variable.
   * @param {string} text - Variable.
   * @returns {string} Formatted variable.
   */
  formatVariable(text) { return text; }

  /**
   * Formats an identifier.
   * @param {string} text - Identifier.
   * @returns {string} Formatted identifier.
   */
  formatIdentifier(text) { return text; }

  /**
   * Formats a number.
   * @param {number} num - Number.
   * @returns {string} Formatted number.
   */
  formatNumber(num) { return num.toString(); }

  /**
   * Formats a string.
   * @param {string} text - String.
   * @returns {string} Formatted string.
   */
  formatString(text) { return text; }

  /**
   * Formats a space (blanks or newlines).
   * @param {string} text - Space.
   * @returns {string} Formatted space.
   */
  formatSpace(text) { return text; }

  /**
  * Formats a comment.
  * @param {string} text - Comment text.
  * @returns {string} Formatted comment.
  */
  formatComment(text) { return text; }

}

/////////////////////////////////////////////////////////////////////////////

module.exports = { CodeFormatter };
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="commands.html">commands</a></li><li><a href="physical.html">physical</a></li><li><a href="selectors.html">selectors</a></li><li><a href="trafficLight.html">trafficLight</a></li></ul><h3>Classes</h3><ul><li><a href="Commander.html">Commander</a></li><li><a href="commands.Cancellable.html">Cancellable</a></li><li><a href="commands.CodeFormatter.html">CodeFormatter</a></li><li><a href="commands.Interpreter.html">Interpreter</a></li><li><a href="commands.MetaFormatter.html">MetaFormatter</a></li><li><a href="physical.Device.html">Device</a></li><li><a href="physical.DeviceManager.html">DeviceManager</a></li><li><a href="physical.PhysicalLight.html">PhysicalLight</a></li><li><a href="physical.PhysicalTrafficLight.html">PhysicalTrafficLight</a></li><li><a href="selectors.PhysicalMultiTrafficLightSelector.html">PhysicalMultiTrafficLightSelector</a></li><li><a href="selectors.PhysicalTrafficLightSelector.html">PhysicalTrafficLightSelector</a></li><li><a href="trafficLight.FlexMultiTrafficLight.html">FlexMultiTrafficLight</a></li><li><a href="trafficLight.Light.html">Light</a></li><li><a href="trafficLight.MultiLight.html">MultiLight</a></li><li><a href="trafficLight.MultiTrafficLight.html">MultiTrafficLight</a></li><li><a href="trafficLight.TrafficLight.html">TrafficLight</a></li></ul><h3>Events</h3><ul><li><a href="physical.Device.html#event:connected">connected</a></li><li><a href="physical.Device.html#event:disconnected">disconnected</a></li><li><a href="physical.DeviceManager.html#event:added">added</a></li><li><a href="physical.DeviceManager.html#event:removed">removed</a></li><li><a href="physical.PhysicalTrafficLight.html#event:disabled">disabled</a></li><li><a href="physical.PhysicalTrafficLight.html#event:enabled">enabled</a></li><li><a href="selectors.PhysicalMultiTrafficLightSelector.html#event:disabled">disabled</a></li><li><a href="selectors.PhysicalMultiTrafficLightSelector.html#event:enabled">enabled</a></li><li><a href="selectors.PhysicalMultiTrafficLightSelector.html#event:interrupted">interrupted</a></li><li><a href="selectors.PhysicalTrafficLightSelector.html#event:disabled">disabled</a></li><li><a href="selectors.PhysicalTrafficLightSelector.html#event:enabled">enabled</a></li><li><a href="trafficLight.FlexMultiTrafficLight.html#event:disabled">disabled</a></li><li><a href="trafficLight.FlexMultiTrafficLight.html#event:enabled">enabled</a></li><li><a href="trafficLight.FlexMultiTrafficLight.html#event:interrupted">interrupted</a></li><li><a href="trafficLight.MultiTrafficLight.html#event:disabled">disabled</a></li><li><a href="trafficLight.MultiTrafficLight.html#event:enabled">enabled</a></li><li><a href="trafficLight.TrafficLight.html#event:disabled">disabled</a></li><li><a href="trafficLight.TrafficLight.html#event:enabled">enabled</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Tue Sep 03 2019 17:34:59 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
